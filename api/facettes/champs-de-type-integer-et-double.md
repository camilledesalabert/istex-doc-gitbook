# Champs de type integer et double

| Informations | |
|------------ | ------------- |
| Options |   - <span class="mandParam">x</span> : renvoie le nombre de résultats ayant un chiffre pour le champ x compris **entre le chiffre le plus bas et le plus haut**,<br>- <span class="mandParam">x[y-z]</span> : renvoie le nombre de résultats ayant un chiffre pour le champ x compris **entre y et z**,<br>- <span class="mandParam">x[y-z:i]</span> : renvoie le nombre de résultats **par intervalle i** ayant un chiffre pour le champ x compris **entre y et z**.<br><br>Les valeurs **y et z** peuvent prendre comme valeur **\* (étoile)** pour désigner **les valeurs minimale et maximale**. |
| Format de réponse pour une facette **x[y-z]**| <pre><code class="application/json">{<br>  "aggregations": {<br>    "qualityIndicators.score": {<br>      "buckets": [<br>        {<br>          "key": "0.013-9.5",<br>          "from": 0.013,<br>          "fromAsString": "0.013",<br>          "to": 9.5,<br>          "toAsString": "9.5",<br>          "docCount": 2303789<br>        }<br>      ]<br>    }<br>  }<br>}</code></pre> |
| Explications | - <span class="mandParam">buckets</span> : tableau contenant l'état de collection,<br>- <span class="mandParam">key</span> : correspond à "y - z" (string),<br>- <span class="mandParam">from</span> : correspond à y (numérique),<br>- <span class="mandParam">fromAsString</span> : correspond à y (string),<br>- <span class="mandParam">to</span> : correspond à z (numérique),<br>- <span class="mandParam">toAsString</span> : correspond à z (string),<br>- <span class="mandParam">docCount</span> : nombre de résultats trouvé. |
| Format de réponse pour une facette **x[y-z:i]**| <pre><code class="application/json">{<br>  "aggregations": {<br>    "qualityIndicators.score": {<br>      "docCount": 9119,<br>      "buckets": [<br>        {<br>          "key": 0,<br>          "rangeAsString": "[0-2[",<br>          "docCount": 2996<br>        },<br>        {<br>          "key": 2,<br>          "rangeAsString": "[2-4[",<br>          "docCount": 1400<br>        },<br>        ...<br>      ]<br>    }<br>  }<br>}</code></pre> |
| Explications | <span class="mandParam">Attention, l'intervalle se doit d'être un <strong>entier (integer)</strong>, il n'est actuellement pas possible d'utiliser un <strong>float</strong>.</span><br><br> Les résultats sont découpés selon l'intervalle choisi. <br>Prenons un exemple : un intervalle de 2 entre 0 et 5 créera 3 résultats :<br>- le nombre de documents entre **0** et 2 non inclu,<br>- le nombre de documents entre **2** et 4 non inclu, <br>- le nombre de documents entre **4** et 5 inclu. <br>Mathématiquement, on aura : [0-5:2] = [**0**-2[ + [**2**-4[ + [**4**-5]<br>La facette affiche ces intervalles en indiquant **la borne inférieure** comme référence (key).<br><br>- <span class="mandParam">docCount</span> : nombre de documents concerné par l'intervalle [x-y] de la facette,<br> - <span class="mandParam">buckets</span> : tableau contenant l'état de collection,<br>- <span class="mandParam">key</span> : correspond à la borne inférieure de l'intervalle créé (number),<br>- <span class="mandParam">rangeAsString</span> : correspond à la notation mathématique de l'intervalle créé (string),<br>- <span class="mandParam">docCount</span> : nombre de résultats trouvé dans l'intervalle. |

| Exemples | |
| -------- | ------- |
| Affichage de l'ensemble des documents avec une facette sur **l'ensemble des scores de qualité** | <a href="https://api.istex.fr/document/?q=*&facet=qualityIndicators.score">https://api.istex.fr/document/?q=\*<span class="mandParam">&facet=qualityIndicators.score</span></a><br><a href="https://api.istex.fr/document/?q=*&facet=score">https://api.istex.fr/document/?q=*<span class="mandParam">&facet=score</span></a>|
| Affichage de l'ensemble des documents avec une facette sur **les scores de qualité compris entre 5 et 7** | <a href="https://api.istex.fr/document/?q=*&facet=qualityIndicators.score[5-7]">https://api.istex.fr/document/?q=\*<span class="mandParam">&facet=qualityIndicators.score[5-7]</span></a><br><a href="https://api.istex.fr/document/?q=*&facet=score[5-7]">https://api.istex.fr/document/?q=*<span class="mandParam">&facet=score[5-7]</span></a>|
| Affichage de l'ensemble des documents avec une facette sur **les scores de qualité compris entre 5 et 7 par intervalle de 1** | <a href="https://api.istex.fr/document/?q=*&facet=qualityIndicators.score[5-7:1]">https://api.istex.fr/document/?q=\*<span class="mandParam">&facet=qualityIndicators.score[5-7:1]</span></a><br><a href="https://api.istex.fr/document/?q=*&facet=score[5-7:1]">https://api.istex.fr/document/?q=*<span class="mandParam">&facet=score[5-7:1]</span></a>|

